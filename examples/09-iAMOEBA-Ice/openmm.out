
>>> ###################################################################
>>> # To use this script, paste all of the lines starting with the
>>> # three less than signs (>>>) into a python interpreter.
>>> ###################################################################
>>> 
>>> from simtk.unit import *
>>> from simtk import openmm as mm
>>> from simtk.openmm import app
>>> 
>>> pdb = app.PDBFile('ice-water.pdb')
>>> topology = pdb.topology
>>> positions = pdb.positions
>>> forcefield = app.ForceField('iamoeba.xml')
>>> system = forcefield.createSystem(topology,nonbondedMethod=PME,constraints=HBonds
... ,rigidWater=False,nonbondedCutoff=1.0*nanometer,useDispersionCorrection=True,pol
... arization=direct,ewaldErrorTolerance=0.0005)
>>> system.addForce(mm.MonteCarloAnisotropicBarostat([1, 1, 1], 300*kelvin, 25,
... True, True, True)
########################################################################
# Option Summary. A more detailed config file is saved to config.out.ini
########################################################################

[General]                        
protein = None                    # default value
water = None                      # default value
platform = CUDA                   # your selection
coords = ice-water.pdb            # your selection
precision = Mixed                 # default value
ffxml = iamoeba.xml               # your selection

[System]                         
nb_method = PME                   # default value
constraints = HBonds              # default value
rigid_water = False               # your selection
rand_vels = True                  # default value
disp_corr = True                  # default value
ewald_tol = 0.0005                # default value
cutoff = 1.0*nanometer            # default value
gen_temp = 300*kelvin             # default value
vdw_cutoff = 1.0*nanometer        # default value
polarization = direct             # your selection

[Dynamics]                       
integrator = Langevin             # default value
dt = 0.5*femtosecond              # your selection
barostat = MonteCarloAnisotropic  # your selection
thermostat = None                 # default value
pressure3 = 1 1 1                 # default value
barostat_interval = 25            # default value
scalex = True                     # default value
scaley = True                     # default value
scalez = True                     # default value
temp = 300*kelvin                 # default value
collision_rate = 1.0/picosecond   # default value

[Simulation]                     
n_steps = 20000                   # your selection
restart_file = restart.p          # default value
minimize = True                   # default value
restart_freq = 5000               # default value
traj_file = output.dcd            # default value
read_restart = False              # default value
progress_freq = 1000              # default value
write_restart = True              # default value
traj_freq = 1000                  # default value

>>> integrator = mm.LangevinIntegrator(300*kelvin, 1.0/picosecond, 0.5*femtosecond)
>>> platform = mm.Platform.getPlatformByName('CUDA')
>>> platformProperties = {'CudaPrecision': 'mixed'}
>>> simulation = app.Simulation(topology, system, integrator, platform, properties)
>>> simulation.context.setPositions(positions)
>>> simulation.minimizeEnergy()
>>> simulation.context.setVelocitiesToTemperature()
>>> simulation.reporters.append(ProgressReporter(sys.stdout, 1000, 20000))
>>> simulation.reporters.append(DCDReporter(output.dcd, 1000))
>>> simulation.reporters.append(RestartReporter(restart.p, 5000))
>>> simulation.step(20000)


Progress   WallTime Left      Speed          Time            P.E.            K.E.        Total E.          Temp        Vol        Rho
     (%)       (d:h:m:s)   (ns/day)          (ps)        (kJ/mol)        (kJ/mol)        (kJ/mol)           (K)     (nm^3)     (g/mL)
  0.000%              ??       0.00       0.00000    -46284.16086      7454.22944    -38829.93142     296.62090    27.1173     0.9531
  5.000%         1:11:20       0.19       0.50000    -40891.94768      5184.72000    -35707.22768     206.31191    27.7366     0.9318
 10.000%         1:07:41       0.19       1.00000    -39621.65293      5690.93268    -33930.72025     226.45527    28.0443     0.9216
 15.000%         1:04:00       0.19       1.50000    -39022.82210      6564.65033    -32458.17177     261.22250    27.8768     0.9272
 20.000%         1:00:18       0.19       2.00000    -38296.09713      6901.18719    -31394.90995     274.61408    27.9614     0.9244
 25.000%           56:35       0.19       2.50000    -38162.46122      7012.71183    -31149.74939     279.05190    27.9059     0.9262
 30.000%           52:51       0.19       3.00000    -37870.37184      7164.48595    -30705.88589     285.09134    27.9364     0.9252
 35.000%           49:07       0.19       3.50000    -37876.87867      7280.60173    -30596.27693     289.71185    27.7564     0.9312
 40.000%           45:22       0.19       4.00000    -37789.41096      7458.65973    -30330.75124     296.79719    27.6046     0.9363
 45.000%           41:36       0.19       4.50000    -37455.45635      7052.91591    -30402.54044     280.65171    27.5103     0.9395
 50.000%           37:50       0.19       5.00000    -37477.18915      7242.73826    -30234.45089     288.20518    27.5391     0.9385
 55.000%           34:04       0.19       5.50000    -37498.92443      7281.87846    -30217.04597     289.76266    27.6535     0.9346
 60.000%           30:18       0.19       6.00000    -37391.51293      7278.80076    -30112.71217     289.64019    27.3459     0.9452
 65.000%           26:32       0.19       6.50000    -37388.46062      7291.39816    -30097.06246     290.14147    27.5758     0.9373
 70.000%           22:45       0.19       7.00000    -37063.55441      7249.91571    -29813.63871     288.49079    27.4413     0.9419
 75.000%           18:58       0.19       7.50000    -37034.51357      7619.83994    -29414.67363     303.21092    27.4201     0.9426
 80.000%           15:10       0.19       8.00000    -36830.85504      7451.87350    -29378.98153     296.52715    27.3675     0.9444
 85.000%           11:23       0.19       8.50000    -36966.69370      7458.17012    -29508.52358     296.77771    27.5013     0.9398
